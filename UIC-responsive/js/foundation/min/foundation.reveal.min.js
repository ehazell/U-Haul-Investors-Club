!function(t,e,i,s){"use strict";Foundation.libs.reveal={name:"reveal",version:"4.2.2",locked:!1,settings:{animation:"fadeAndPop",animationSpeed:250,closeOnBackgroundClick:!0,closeOnEsc:!0,dismissModalClass:"close-reveal-modal",bgClass:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:t(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(e,i,s){return Foundation.inherit(this,"data_options delay"),"object"==typeof i?t.extend(!0,this.settings,i):"undefined"!=typeof s&&t.extend(!0,this.settings,s),"string"!=typeof i?(this.events(),this.settings.init):this[i].call(this,s)},events:function(){var e=this;return t(this.scope).off(".fndtn.reveal").on("click.fndtn.reveal","[data-reveal-id]",function(i){if(i.preventDefault(),!e.locked){var s=t(this),n=s.data("reveal-ajax");if(e.locked=!0,"undefined"==typeof n)e.open.call(e,s);else{var o=n===!0?s.attr("href"):n;e.open.call(e,s,{url:o})}}}).on("click.fndtn.reveal",this.close_targets(),function(i){if(i.preventDefault(),!e.locked){var s=t.extend({},e.settings,e.data_options(t(".reveal-modal.open")));if(t(i.target)[0]===t("."+s.bgClass)[0]&&!s.closeOnBackgroundClick)return;e.locked=!0,e.close.call(e,t(this).closest(".reveal-modal"))}}).on("open.fndtn.reveal",".reveal-modal",this.settings.open).on("opened.fndtn.reveal",".reveal-modal",this.settings.opened).on("opened.fndtn.reveal",".reveal-modal",this.open_video).on("close.fndtn.reveal",".reveal-modal",this.settings.close).on("closed.fndtn.reveal",".reveal-modal",this.settings.closed).on("closed.fndtn.reveal",".reveal-modal",this.close_video),t("body").bind("keyup.reveal",function(i){var s=t(".reveal-modal.open"),n=t.extend({},e.settings,e.data_options(s));27===i.which&&n.closeOnEsc&&s.foundation("reveal","close")}),!0},open:function(e,i){if(e)if("undefined"!=typeof e.selector)var s=t("#"+e.data("reveal-id"));else{var s=t(this.scope);i=e}else var s=t(this.scope);if(!s.hasClass("open")){var n=t(".reveal-modal.open");if("undefined"==typeof s.data("css-top")&&s.data("css-top",parseInt(s.css("top"),10)).data("offset",this.cache_offset(s)),s.trigger("open"),n.length<1&&this.toggle_bg(s),"undefined"!=typeof i&&i.url){var o=this,a="undefined"!=typeof i.success?i.success:null;t.extend(i,{success:function(e,i,r){t.isFunction(a)&&a(e,i,r),s.html(e),t(s).foundation("section","reflow"),o.hide(n,o.settings.css.close),o.show(s,o.settings.css.open)}}),t.ajax(i)}else this.hide(n,this.settings.css.close),this.show(s,this.settings.css.open)}},close:function(e){var e=e&&e.length?e:t(this.scope),i=t(".reveal-modal.open");i.length>0&&(this.locked=!0,e.trigger("close"),this.toggle_bg(e),this.hide(i,this.settings.css.close))},close_targets:function(){var t="."+this.settings.dismissModalClass;return this.settings.closeOnBackgroundClick?t+", ."+this.settings.bgClass:t},toggle_bg:function(){0===t(".reveal-modal-bg").length&&(this.settings.bg=t("<div />",{"class":this.settings.bgClass}).appendTo("body")),this.settings.bg.filter(":visible").length>0?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(i,s){if(s){if(/pop/i.test(this.settings.animation)){s.top=t(e).scrollTop()-i.data("offset")+"px";var n={top:t(e).scrollTop()+i.data("css-top")+"px",opacity:1};return this.delay(function(){return i.css(s).animate(n,this.settings.animationSpeed,"linear",function(){this.locked=!1,i.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var n={opacity:1};return this.delay(function(){return i.css(s).animate(n,this.settings.animationSpeed,"linear",function(){this.locked=!1,i.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}return i.css(s).show().css({opacity:1}).addClass("open").trigger("opened")}return/fade/i.test(this.settings.animation)?i.fadeIn(this.settings.animationSpeed/2):i.show()},hide:function(i,s){if(s){if(/pop/i.test(this.settings.animation)){var n={top:-t(e).scrollTop()-i.data("offset")+"px",opacity:0};return this.delay(function(){return i.animate(n,this.settings.animationSpeed,"linear",function(){this.locked=!1,i.css(s).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var n={opacity:0};return this.delay(function(){return i.animate(n,this.settings.animationSpeed,"linear",function(){this.locked=!1,i.css(s).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}return i.hide().css(s).removeClass("open").trigger("closed")}return/fade/i.test(this.settings.animation)?i.fadeOut(this.settings.animationSpeed/2):i.hide()},close_video:function(){var e=t(this).find(".flex-video"),i=e.find("iframe");i.length>0&&(i.attr("data-src",i[0].src),i.attr("src","about:blank"),e.hide())},open_video:function(){var e=t(this).find(".flex-video"),i=e.find("iframe");if(i.length>0){var n=i.attr("data-src");if("string"==typeof n)i[0].src=i.attr("data-src");else{var o=i[0].src;i[0].src=s,i[0].src=o}e.show()}},cache_offset:function(t){var e=t.show().height()+parseInt(t.css("top"),10);return t.hide(),e},off:function(){t(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(Foundation.zj,this,this.document);